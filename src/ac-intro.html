<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-route/app-route.html">
<link rel="import" href="../bower_components/neon-animation/neon-animation.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../bower_components/sc-style/sc-style.html">
<link rel="import" href="../bower_components/sc-iconset/sc-iconset.html">


<link rel="import" href="ac-sizeview.html">

<dom-module id="ac-intro">
<link rel="import" href="../bower_components/sc-style/sc-style.css"  type="css">

  <template>
    <style>
   :host {
      display: block;
      margin: 0px;
      padding: 0px;
      --title-big: 40px;
      --title-bigheight: 46px;
      width: 100vw;
      height: 100vh;
      @apply(--base-structure);
    }


  .totalwidth {
    height: 100%;
  }

/*  .topbar {
    opacity: 0.5;
  }*/
  .topbar ac-icon {
    opacity: 0.5;
  }
  .topbar ac-button {
    @apply(--base-shadow);
    opacity: 0.9;
  }

  neon-animated-pages {
    height: 92%;
  }

  .yesnobtns {
    width: 80%;
    max-width: 300px;    
  }

  .yesno {
    margin: 5px 5px 5px 0px;
    width: 100%;
  }

  iron-icon:hover {
    cursor: pointer;
  }



/*  .basestructure {
    @apply(--base-structure);
  }*/

    </style>

    <app-route route="{{route}}" pattern="/:page" data="{{data}}"></app-route>

    <div class="topbar">
      <span class="flex"></span>
      <template is="dom-if" if="{{!_is(data.page,'welcome')}}">
      <iron-icon class="grey3" icon="sc-icons:decline" on-tap="exit">back</iron-icon>
      </template>
    </div>

    <neon-animated-pages id="createwalletpgs" attr-for-selected="data-page" selected="[[data.page]]" entry-animation="{{entryAnimationintro}}" exit-animation="{{exitAnimationintro}}">
      <neon-animatable data-page="welcome">
        <div class="totalwidth vertic start paddingwithouttop basestructure">
          <div class="whitespace"></div>
          <h1 class="bold yellow">You must bee<br>new here</h1>
          <div class="whitespace"></div>
          <p class="reg">There’s no user found on this device.</p>
          <div class="flex"></div>
          <paper-button on-tap="totokenquestion" class="grey4 lighter bigbtn">I’m a new user</paper-button>
          <div class="whitespace"></div>
          <!-- <a href="" class="grey3 small">sync with a device / backup-file</a> -->
        </div>
      </neon-animatable>

      <neon-animatable data-page="first">
        <div class="totalwidth vertic centercenter paddingwithouttop">
          <p class="centertxt">Do you own ARC-tokens?</p>
          <div class="whitespace"></div>
          <div class="whitespace"></div>
          <div class="whitespace"></div>
          <div class="vertic yesnobtns">
            <paper-button class="grey4 lighter yesno bigbtn centertxt" on-tap="toimportwallet">Yes</paper-button>
            <paper-button class="grey4 lighter yesno bigbtn centertxt" on-tap="tocreatewallet" txtbtn>No</paper-button>
          </div>
        </div>
      </neon-animatable>


      <neon-animatable data-page="importwallet">
        <div class="totalwidth vertic centercenter paddingwithouttop">
          <p class="centertxt">How did you save your ARC-wallet?</p>
          <div class="whitespace"></div>
          <div class="whitespace"></div>
          <div class="vertic yesnobtns">
            <paper-button class="grey4 lighter yesno bigbtn centertxt" on-tap="touploadjson">as a json-file</paper-button>
            <paper-button class="grey4 lighter yesno bigbtn centertxt" on-tap="toprivatekey" txtbtn>as a print / pdf</paper-button>
          </div>
            <div class="whitespace"></div>
<!--             <div class="externallink">
              <a on-tap="toprivatekey">I have an external wallet<br> with ARC-tokens</a>
            </div>
 -->

          </div>
        </div>
      </neon-animatable>




    </neon-animated-pages>
  </template>

  <script>
    Polymer({

      is: 'ac-intro',

      properties: {
        // state: {
        //   type: String,
        //   value: 'intro'
        // },

        route: {
          type: Object,
          notify: true
        },

      },

      observers: [
          '_onRoutePathChanged(data.page)'
          // '_checkSize(sizeview)'
        ],

        toon: function(a){
          return JSON.stringify(a);
        },

      _onRoutePathChanged: function(page) {

        // switch (page) {
           // case '':
           //  this.set('route.path', '/welcome');

        //   case 'importpkmakewallet':
        //   case 'importfile':
        //   case 'createnew':
        //     if (this.hasVault()) {
        //       console.log('You already have a vault');
        //     }
        //     break;
        //   default:
        //     if (!this.hasVault()) {
        //       return this.fire('novault');
        //     };
        //     if (!this.password) {
        //       return this.fire('locked');
        //     }
            // break;

        // }
      },
      attached: function() {
        this.exitAnimationintro = "slide-left-animation";
        this.entryAnimationintro = "slide-from-right-animation";
      },

      exit: function(){
        this.exitAnimationintro = "slide-right-animation";
        this.entryAnimationintro = "slide-from-left-animation";
        this.set('route.path', '/welcome');
        this.exitAnimationintro = "slide-left-animation";
        this.entryAnimationintro = "slide-from-right-animation";
      },

      totokenquestion: function() {
        this.set('route.path', '/first');
//        this.state = 'first';
      },

      toimportwallet: function() {
        this.set('route.path', '/importwallet');
//        this.state = 'importwallet';
      },

      topaperorexternal: function() {
        this.set('route.path', '/paperorexternal');
      },


      toprivatekey: function() {
        this.fire('importpk');
      },

      toexternalkey: function() {
        this.fire('externalpk');
      },

      touploadjson: function() {
        this.fire('importfile');
      },

      tocreatewallet: function() {
        this.fire('newvault');
      },
      // _checkSize: function() {
      //   switch (this.sizeview) {
      //     case 'phone':
      //       this.customStyle['--intro-toppadding'] = '0px 10vw 10vw 10vw';
      //       this.updateStyles();
      //       console.log('YOOOOOOOO ======', this.sizeview);
      //       break;
      //     case 'desktop':
      //       this.customStyle['--intro-toppadding'] = '10vw 10vw 10vw 10vw';
      //       this.updateStyles();
      //       console.log('YOOOOOOOO ======', this.sizeview);
      //       break;
      //     case 'xlarge':
      //       this.customStyle['--intro-toppadding'] = '10vw 10vw 10vw 10vw';
      //       this.updateStyles();
      //       console.log('YOOOOOOOO ======', this.sizeview);
      //       break;
      //     default:
      //       console.log("!!! ** Niks");
      //   }
      // },

      _is: function(a, b) {
        if (b === undefined) {
          b = true;
        }
        return a === b;
      },




    });
  </script>
</dom-module>
